# Совместное использование общих файлов между микросервисами

* Статус: предложено 
* Дата: 25.09.2025

## Контекст и описание проблемы

У многих микросервисов присутствуют общие файлы, которые нужно поддерживать в большом количестве микросервисов. 

Например:

* `healthcheck.sh`
* `build.sh`
* `Makefile`/`justfile`
* `isort.cfg`
* `ruff.toml`
* `Dockerfile` ?

Необходимо найти инструмент доставки этих файлов микросервисам с последующей синхронизацией. 

## Факторы принятия решения 

- Файлы доставляются в указанные микросервисы
- Файлы синхронизируются в указанных микросервисах (push/pull).
- Изменение файлов не ломает микросервисы
- Изменение файлов не тормозит разработку (измененный линтер сыпет кучу ошибок)
- Обратная совместимость

## Рассматриваемые варианты 

- docker-образ 
- только CI
- отдельный python пакет
- pre-commit 
- управление через шаблоны (`cookiecutter` + `cruft`/`copier`)
- git-submodule / subtree / sparse-checkout

## Решение

## Положительные последствия

## Отрицательные последствия 

## Плюсы и минусы рассматриваемых вариантов

### docker-образ

Создаём общий docker образ и внутрь засовываем общие вещи: скрипты, конфиги и прочее.

- Хорошо потому, что одно место хранения
- Хорошо потому, что не засоряем репозитории сервисов 
- Хорошо потому, что ускоряется интеграция новых сервисов 

### только CI 

... 

### отдельный python пакет 

### pre-commit 

### управление через шаблоны 

### git-submodule 


