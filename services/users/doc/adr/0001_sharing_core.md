# Совместное использование core микросервисами

* Статус: принято
* Дата: 20.09.2025

## Контекст и описание проблемы

Микросервисы используют общие компоненты, которые требуют как повторного написания, так и повторной поддержки.
При большом количестве микросервисов поддерживать общие компоненты станет особенно трудно. 

Как результат, было принято решение выделить общие компоненты в core.

Проблема: как доставлять core микросервисам?

## Факторы принятия решения

* Доставка общих компонентов микросервисам
* Обратная совместимость (новая версия не ломает другие микросервисы)
* Возможность гибко настраивать версии на уровне CI 

## Рассматриваемые варианты 

* **Копирование папки**.
* **Локальный Pypi**

## Решение 

Принято решение развернуть локальный pypi через `pypiserver`, 
так как копирование папки абсолютно не поддерживает обратную совместимость.

## Положительные последствия

* Добавление и установка происходит быстро 
* Поддержка (билд и публикация) достаточно простая 

## Отрицательные последствия

* Возникла проблема с гибкой настройкой виртуальным окружением. 
Как результат - пришлось перейти с poetry на uv
